35.1. MODULES OVER A COMMUTATIVE RING 1247
and so x = x − bw + bw with x − bw ∈ Mr, which shows that
Mr+1 = Mr + Aw.
On the other hand, if u ∈ Mr ∩ Aw, then since w = v1 + ar+1ur+1 we have
u = bv1 + bar+1ur+1,
for some b ∈ A, with u, v1 ∈ Au1 ⊕ · · · ⊕ Aur, and if b 6 = 0, this yields the nontrivial linear
combination
bv1 − u + bar+1ur+1 = 0,
contradicting the fact that (u1, . . . , ur+1) are linearly independent. Therefore,
Mr+1 = Mr ⊕ Aw,
which shows that Mr+1 is free of dimension at most r + 1.
The following two examples show why the hypothesis of Proposition 35.5 requires A to
be PID. First consider 6Z = {0, 1, 2, 3, 4, 5} as a free 6Z-module with generator 1. The 6Z￾submodule {0, 2, 4} is not free, even though it is generated by 2 since 3 · 2 = 0. Proposition
35.5 fails since 6Z is not even an integral domain. Next consider Z[X] as a free Z[X]-module
with generator 1. We claim the ideal
(2, X) = {2p(X) + Xq(X) | p(X), q(X) ∈ Z[X]},
is not a free Z[X]-module. Indeed any two nonzero elements of (2, X), say s(X) and t(X),
are linearly dependent since t(X)s(X) − s(X)t(X) = 0. Once again Proposition 35.5 fails
since Z[X] is not a PID. See Example 32.1.
Proposition 35.5 implies that if M is a finitely generated module over a PID, then any
submodule N of M is also finitely generated.
Indeed, if (u1, . . . , un) generate M, then we have a surjection ϕ: An → M from the free
module An onto M. The inverse image ϕ
−1
(N) of N is a submodule of the free module An
,
therefore by Proposition 35.5, ϕ
−1
(N) is free and finitely generated. This implies that N is
finitely generated (and that it has a number of generators ≤ n).
We can also prove that a finitely generated torsion-free module over a PID is actually
free. We will give another proof of this fact later, but the following proof is instructive.
Proposition 35.6. If A is a PID and if M is a finitely generated module which is torsion￾free, then M is free.
Proof. Let (y1, . . . , yn) be some generators for M, and let (u1, . . . , um) be a maximal sub￾sequence of (y1, . . . , yn) which is linearly independent. If m = n, we are done. Otherwise,
due to the maximality of m, for i = 1, . . . , n, there is some ai 6 = 0 such that such that
1248 CHAPTER 35. INTRODUCTION TO MODULES; MODULES OVER A PID
aiyi can be expressed as a linear combination of (u1, . . . , um). If we let a = a1 . . . an, then
a1 . . . anyi ∈ Au1 ⊕ · · · ⊕ Aum for i = 1, . . . , n, which shows that
aM ⊆ Au1 ⊕ · · · ⊕ Aum.
Now, A is an integral domain, and since ai 6 = 0 for i = 1, . . . , n, we have a = a1 . . . an 6 = 0,
and because M is torsion-free, the map x 7→ ax is injective. It follows that M is isomorphic
to a submodule of the free module Au1 ⊕ · · · ⊕ Aum. By Proposition 35.5, this submodule
if free, and thus, M is free.
Although we will obtain this result as a corollary of the structure theorem for finitely
generated modules over a PID, we are in the position to give a quick proof of the following
theorem.
Theorem 35.7. Let M be a finitely generated module over a PID. Then M/Mtor is free,
and there exit a free submodule F of M such that M is the direct sum
M = Mtor ⊕ F.
The dimension of F is uniquely determined.
Proof. By Proposition 35.4 M/Mtor is torsion-free, and since M is finitely generated, it is
also finitely generated. By Proposition 35.6, M/Mtor is free. We have the quotient linear
map π : M → M/Mtor, which is surjective, and M/Mtor is free, so by Proposition 35.2, there
is a free module F isomorphic to M/Mtor such that
M = Ker (π) ⊕ F = Mtor ⊕ F.
Since F is isomorphic to M/Mtor, the dimension of F is uniquely determined.
Theorem 35.7 reduces the study of finitely generated module over a PID to the study
of finitely generated torsion modules. This is the path followed by Lang [109] (Chapter III,
section 7).
35.2 Finite Presentations of Modules
Since modules are generally not free, it is natural to look for techniques for dealing with
nonfree modules. The hint is that if M is an A-module and if (ui)i∈I is any set of generators
for M, then we know that there is a surjective homomorphism ϕ: A(I) → M from the free
module A(I) generated by I onto M. Furthermore M is isomorphic to A(I)/Ker (ϕ). Then,
we can pick a set of generators (vj )j∈J for Ker (ϕ), and again there is a surjective map
ψ: A(J) → Ker (ϕ) from the free module A(J) generated by J onto Ker (ϕ). The map ψ can
be viewed a linear map from A(J)
to A(I)
, we have
Im(ψ) = Ker (ϕ),
35.2. FINITE PRESENTATIONS OF MODULES 1249
and ϕ is surjective. Note that M is isomorphic to A(I)/Im(ψ). In such a situation we say
that we have an exact sequence and this is denoted by the diagram
A(J)
ψ
/
A(I)
ϕ
/ M / 0.
Definition 35.6. Given an A-module M, a presentation of M is an exact sequence
A(J)
ψ
/
A(I)
ϕ
/ M / 0
which means that
1. Im(ψ) = Ker (ϕ).
2. ϕ is surjective.
Consequently, M is isomorphic to A(I)/Im(ψ). If I and J are both finite, we say that this is
a finite presentation of M.
Observe that in the case of a finite presentation, I and J are finite, and if |J| = n and
|
coefficients in
I| = m, then
A
ψ is a linear map
called the presentation matrix
ψ: An → Am, so it is given by some
of M. Every column
m
Rj
×
of
n
R
matrix
may thought
R with
of as a relation
aj1e1 + · · · + ajmem = 0
among the generators e1, . . . , em of Am, so we have n relations among these generators. Also
the images of e1, . . . , em in M are generators of M, so we can think of the above relations as
relations among the generators of M.
The submodule of Am spanned by the columns of R is the set of relations of M, and the
columns of R are called a complete set of relations for M. The vectors e1, . . . , em are called
a set of generators for M. We may also say that the generators e1, . . . , em and the relations
R1
, . . . , Rn
(the columns of R) are a (finite) presentation of the module M. The module M
presented by R is isomorphic to Am/RAn
, where we denote by RAn
the image of An by the
linear map defined by R.
For example, the Z-module presented by the 1 × 1 matrix R = (5) is the quotient, Z/5Z,
of Z by the submodule 5Z corresponding to the single relation
5e1 = 0.
But Z/5Z has other presentations. For example, if we consider the matrix of relations
R =

2
1 2
−1

,
1250 CHAPTER 35. INTRODUCTION TO MODULES; MODULES OVER A PID
presenting the module M, then we have the relations
2e1 + e2 = 0
−e1 + 2e2 = 0.
From the first equation, we get e2 = −2e1, and substituting into the second equation we get
−5e1 = 0.
It follows that the generator e2 can be eliminated and M is generated by the single generator
e1 satisfying the relation
5e1 = 0,
which shows that M ≈ Z/5Z.
The above example shows that many different matrices can present the same module.
Here are some useful rules for manipulating a relation matrix without changing the isomor￾phism class of the module M it presents.
Proposition 35.8. If R is an m × n matrix presenting an A-module M, then the matrices
S of the form listed below present the same module (a module isomorphic to M):
(1) S = QRP −1
, where Q is a m × m invertible matrix and P a n × n invertible matrix
(both over A).
(2) S is obtained from R by deleting a column of zeros.
(3) The jth column of R is ei, and S is obtained from R by deleting the ith row and the
jth column.
Proof. (1) By definition, we have an isomorphism M ≈ Am/RAn
, where we denote by RAn
the image of An by the linear map defined by R. Going from R to QRP −1
corresponds
to making a change of basis in Am and a change of basis in An
, and this yields a quotient
module isomorphic to M.
(2) A zero column does not contribute to the span of the columns of R, so it can be
eliminated.
(3) If the jth column of R is ei
, then when taking the quotient Am/RAn
, the generator
ei goes to zero. This means that the generator ei
is redundant, and when we delete it, we
get a matrix of relations in which the ith row of R and the jth column of R are deleted.
The matrices P and Q are often products of elementary operations. One should be careful
that rows of zeros cannnot be eliminated. For example, the 2 × 1 matrix
R1 =

4
0

35.2. FINITE PRESENTATIONS OF MODULES 1251
gives the single relation
4e1 = 0,
but the second generator e2 cannot be eliminated. This matrix presents the module Z/4Z×Z.
On the other hand, the 1 × 2 matrix
R2 =
￾ 4 0
gives two relations
4e1 = 0,
0 = 0,
so the second generator can be eliminated and R2 presents the module Z/4Z.
The rules of Proposition 35.8 make it possible to simplify a presentation matrix quite a
lot in some cases. For example, consider the relation matrix
R =


3 8 7 9
2 4 6 6
1 2 2 1

 .
By subtracting 2 times row 3 from row 2 and subtracting 3 times row 3 from row 1, we get


0 2 1 6
0 0 2 4
1 2 2 1

 .
After deleting column 1 and row 3, we get

2 1 6
0 2 4 .
By subtracting 2 times row 1 from row 2, we get

−
2 1 6
4 0 −8

.
After deleting column 2 and row 1, we get
By subtracting 2 times column 1 from column 2, we get
￾
−4 −8
 .
Finally, we can drop the second column and we get
￾
−4 0 .
(4),
1252 CHAPTER 35. INTRODUCTION TO MODULES; MODULES OVER A PID
which shows that R presents the module Z/4Z.
Unfortunately a submodule of a free module of finite dimension is not necessarily finitely
generated but, by Proposition 35.5, if A is a PID, then any submodule of a finitely generated
module is finitely generated. This property actually characterizes Noetherian rings. To prove
it, we need a slightly different version of Proposition 35.2.
Proposition 35.9. Let f : E → F be a linear map between two A-modules E and F.
(1) Given any set of generators (v1, . . . , vr) of Im(f), for any r vectors u1, . . . , ur ∈ E such
that f(ui) = vi for i = 1, . . . , r, if U is the finitely generated submodule of E generated
by (u1, . . . , ur), then the module E is the sum
E = Ker (f) + U.
Consequently, if both Ker (f) and Im(f) are finitely generated, then E is finitely gen￾erated.
(2) If E is finitely generated, then so is Im(f).
Proof. (1) Pick any w ∈ E, write f(w) over the generators (v1, . . . , vr) of Im(f) as f(w) =
a1v1 + · · · + arvr, and let u = a1u1 + · · · + arur. Observe that
f(w − u) = f(w) − f(u)
= a1v1 + · · · + arvr − (a1f(u1) + · · · + arf(ur))
= a1v1 + · · · + arvr − (a1v1 + · · · + arvr)
= 0.
Therefore, h = w − u ∈ Ker (f), and since w = h + u with h ∈ Ker (f) and u ∈ U, we have
E = Ker (f) + U, as claimed. If Ker (f) is also finitely generated, by taking the union of a
finite set of generators for Ker (f) and (v1, . . . , vr), we obtain a finite set of generators for E.
(2) If (u1, . . . , un) generate E, it is obvious that (f(u1), . . . , f(un)) generate Im(f).
Theorem 35.10. A ring A is Noetherian iff every submodule N of a finitely generated
A-module M is itself finitely generated.
Proof. First, assume that every submodule N of a finitely generated A-module M is itself
finitely generated. The ring A is a module over itself and it is generated by the single element
1. Furthermore, every submodule of A is an ideal, so the hypothesis implies that every ideal
in A is finitely generated, which shows that A is Noetherian.
Now, assume A is Noetherian. First, observe that it is enough to prove the theorem for
the finitely generated free modules An
(with n ≥ 1). Indeed, assume that we proved for
every n ≥ 1 that every submodule of An
is finitely generated. If M is any finitely generated
A-module, then there is a surjection ϕ: An → M for some n (where n is the number of
elements of a finite generating set for M). Given any submodule N of M, L = ϕ
−1
(N) is a
35.2. FINITE PRESENTATIONS OF MODULES 1253
submodule of An
. Since An
is finitely generated, the submodule N of An
is finitely generated,
and then N = ϕ(L) is finitely generated.
It remains to prove the theorem for M = An
. We proceed by induction on n. For n = 1,
a submodule N of A is an ideal, and since A is Noetherian, N is finitely generated. For the
induction step where n > 1, consider the projection π : An → An−1 given by
π(a1, . . . , an) = (a1, . . . , an−1).
The kernel of π is the module
Ker (π) = {(0, . . . , 0, an) ∈ A
n
| an ∈ A} ≈ A.
For any submodule N of An
, let ϕ: N → An−1 be the restriction of π to N. Since ϕ(N)
is a submodule of An−1
, by the induction hypothesis, Im(ϕ) = ϕ(N) is finitely generated.
Also, Ker (ϕ) = N ∩ Ker (π) is a submodule of Ker (π) ≈ A, and thus Ker (ϕ) is isomorphic
to an ideal of A, and thus is finitely generated (since A is Noetherian). Since both Im(ϕ)
and Ker (ϕ) are finitely generated, by Proposition 35.9, the submodule N is also finitely
generated.
As a consequence of Theorem 35.10, every finitely generated A-module over a Noetherian
ring A is finitely presented, because if ϕ: An → M is a surjection onto the finitely generated
module M, then Ker (ϕ) is finitely generated. In particular, if A is a PID, then every finitely
generated module is finitely presented.
If the ring A is not Noetherian, then there exist finitely generated A-modules that are
not finitely presented. This is not so easy to prove.
We will prove in Proposition 35.35 that if A is a PID then a matrix R can “diagonalized”
as
R = QDP −1
where D is a diagonal matrix (more computational versions of this proposition are given
in Theorem 36.18 and Theorem 36.21). It follows from Proposition 35.8 that every finitely
generated module M over a PID has a presentation with m generators and r relations of the
form
αiei = 0,
where αi 6 = 0 and α1 | α2 | · · · | αr, which shows that M is isomorphic to the direct sum
M ≈ A
m−r ⊕ A/(α1A) ⊕ · · · ⊕ A/(αrA).
This is a version of Theorem 35.25 that will be proved in Section 35.5.
1254 CHAPTER 35. INTRODUCTION TO MODULES; MODULES OVER A PID
35.3 Tensor Products of Modules over a
Commutative Ring
It is possible to define tensor products of modules over a ring, just as in Section 33.2, and the
results of this section continue to hold. The results of Section 33.4 also continue to hold since
they are based on the universal mapping property. However, the results of Section 33.3 on
bases generally fail, except for free modules. Similarly, the results of Section 33.5 on duality
generally fail. Tensor algebras can be defined for modules, as in Section 33.6. Symmetric
tensor and alternating tensors can be defined for modules but again, results involving bases
generally fail.
Tensor products of modules have some unexpected properties. For example, if p and q
are relatively prime integers, then
Z/pZ ⊗Z Z/qZ = (0).
This is because, by Bezout’s identity, there are a, b ∈ Z such that
ap + bq = 1,
so, for all x ∈ Z/pZ and all y ∈ Z/qZ, we have
x ⊗ y = ap(x ⊗ y) + bq(x ⊗ y)
= a(px ⊗ y) + b(x ⊗ qy)
= a(0 ⊗ y) + b(x ⊗ 0)
= 0.
It is possible to salvage certain properties of tensor products holding for vector spaces by
restricting the class of modules under consideration. For example, projective modules have
a pretty good behavior w.r.t. tensor products.
A free A-module F, is a module that has a basis (i.e., there is a family, (ei)i∈I , of
linearly independent vectors in F that span F). Projective modules have many equivalent
characterizations. Here is one that is best suited for our needs:
Definition 35.7. An A-module, P, is projective if it is a summand of a free module, that
is, if there is a free A-module, F, and some A-module, Q, so that
F = P ⊕ Q.
Given any A-module, M, we let M∗ = HomA(M, A) be its dual. We have the following
proposition:
Proposition 35.11. For any finitely-generated projective A-modules, P, and any A-module,
Q, we have the isomorphisms:
P
∗∗ ∼= P
HomA(P, Q) ∼= P
∗ ⊗A Q.
35.3. TENSOR PRODUCTS OF MODULES OVER A COMMUTATIVE RING 1255
Proof sketch. We only consider the second isomorphism. Since P is projective, we have some
A-modules, P1, F, with
P ⊕ P1 = F,
where F is some free module. Now, we know that for any A-modules, U, V, W, we have
HomA(U ⊕ V, W) ∼= HomA(U, W)
Y HomA(V, W) ∼= HomA(U, W) ⊕ HomA(V, W),
so
P
∗ ⊕ P1
∗ ∼= F
∗
, HomA(P, Q) ⊕ HomA(P1, Q) ∼= HomA(F, Q).
By tensoring with Q and using the fact that tensor distributes w.r.t. coproducts, we get
(P
∗ ⊗A Q) ⊕ (P1
∗ ⊗A Q) ∼= (P
∗ ⊕ P1
∗
) ⊗A Q ∼= F
∗ ⊗A Q.
Now, the proof of Proposition 33.17 goes through because F is free and finitely generated,
so
α⊗ : (P
∗ ⊗A Q) ⊕ (P1
∗ ⊗A Q) ∼= F
∗ ⊗A Q −→ HomA(F, Q) ∼= HomA(P, Q) ⊕ HomA(P1, Q)
is an isomorphism and as α⊗ maps P
∗⊗AQ to HomA(P, Q), it yields an isomorphism between
these two spaces.
The isomorphism α⊗ : P
∗ ⊗A Q ∼= HomA(P, Q) of Proposition 35.11 is still given by
α⊗(u
∗ ⊗ f)(x) = u
∗
(x)f, u∗ ∈ P
∗
, f ∈ Q, x ∈ P.
It is convenient to introduce the evaluation map, Evx : P
∗ ⊗A Q → Q, defined for every
x ∈ P by
Evx(u
∗ ⊗ f) = u
∗
(x)f, u∗ ∈ P
∗
, f ∈ Q.
We will need the following generalization of part (4) of Proposition 33.13.
Proposition 35.12. Given any two families of A-modules (Mi)i∈I and (Nj )j∈J (where I
and J are finite index sets), we have an isomorphism
￾
M
i∈I
Mi
 ⊗
￾
M
j∈I
Mj
 ≈
M
(i,j)∈I×J
(Mi ⊗ Nj ).
Proposition 35.12 also holds for infinite index sets.
Proposition 35.13. Let M and N be two A-module with N a free module, and pick any
basis (v1, . . . , vn) for N. Then, every element of M ⊗ N can expressed in a unique way as a
sum of the form
u1 ⊗ v1 + · · · + un ⊗ vn, ui ∈ M,
so that M ⊗ N is isomorphic to Mn
(as an A-module).
1256 CHAPTER 35. INTRODUCTION TO MODULES; MODULES OVER A PID
Proof. Since N is free with basis (v1, . . . , vn), we have an isomorphism
N ≈ Av1 ⊕ · · · ⊕ Avn.
By Proposition 35.12, we obtain an isomorphism
M ⊗ N ≈ M ⊗ (Av1 ⊕ · · · ⊕ Avn) ≈ (M ⊗ Av1) ⊕ · · · ⊕ (M ⊗ Avn).
Because (v1, . . . , vn) is a basis of N, each vj
is torsion-free so the map a 7→ avj
is an
isomorphism of A onto Avj
, and because M ⊗ A ≈ M, we have the isomorphism
M ⊗ N ≈ (M ⊗ A) ⊕ · · · ⊕ (M ⊗ A) ≈ M ⊕ · · · ⊕ M = Mn
,
as claimed.
Proposition 35.13 also holds for an infinite basis (vj )j∈J of N. Obviously, a version of
Proposition 35.13 also holds if M is free and N is arbitrary.
The next proposition will be also be needed.
Proposition 35.14. Given any A-module M and any ideal a in A, there is an isomorphism
(A/a) ⊗A M ≈ M/aM
given by the map (a ⊗ u) 7→ au (mod aM), for all a ∈ A/a and all u ∈ M.
Sketch of proof. Consider the map ϕ: (A/a) × M → M/aM given by
ϕ(a, u) = au (mod aM)
for all a ∈ A/a and all u ∈ M. It is immediately checked that ϕ is well-defined because au
(mod aM) does not depend on the representative a ∈ A chosen in the equivalence class a,
and ϕ is bilinear. Therefore, ϕ induces a linear map ϕ: (A/a) ⊗ M → M/aM, such that
ϕ(a ⊗ u) = au (mod aM). We also define the map ψ: M → (A/a) ⊗ M by
ψ(u) = 1 ⊗ u.
Since aM is generated by vectors of the form au with a ∈ a and u ∈ M, and since
ψ(au) = 1 ⊗ au = a ⊗ u = 0 ⊗ u = 0,
we see that aM ⊆ Ker (ψ), so ψ induces a linear map ψ: M/aM → (A/a) ⊗ M. We have
ψ(ϕ(a ⊗ u)) = ψ(au)
= 1 ⊗ au
= a ⊗ u
35.4. TORSION MODULES OVER A PID; PRIMARY DECOMPOSITION 1257
and
ϕ(ψ(u)) = ϕ(1 ⊗ u)
= 1u
= u,
which shows that ϕ and ψ are mutual inverses.
We now develop the theory necessary to understand the structure of finitely generated
modules over a PID.
35.4 Torsion Modules over a PID; The Primary
Decomposition
We begin by considering modules over a product ring obtained from a direct decomposition,
as in Definition 32.3. In this section and the next, we closely follow Bourbaki [26] (Chapter
VII). Let A be a commutative ring and let (b1, . . . , bn) be ideals in A such that there is
an isomorphism A ≈ A/b1 × · · · × A/bn. From Theorem 32.16 part (b), there exist some
elements e1, . . . , en of A such that
e
2
i = ei
eiej = 0, i 6 = j
e1 + · · · + en = 1A,
and bi = (1A − ei)A, for i, j = 1, . . . , n.
Given an A-module M with A ≈ A/b1×· · ·×A/bn, let Mi be the subset of M annihilated
by bi
; that is,
Mi = {x ∈ M | bx = 0, for all b ∈ bi}.
Because bi
is an ideal, each Mi
is a submodule of M. Observe that if λ, µ ∈ A, b ∈ bi
, and
if λ − µ = b, then for any x ∈ Mi
, since bx = 0,
λx = (µ + b)x = µx + bx = µx,
so Mi can be viewed as a A/bi- module.
Proposition 35.15. Given a ring A ≈ A/b1 × · · · × A/bn as above, the A-module M is the
direct sum
M = M1 ⊕ · · · ⊕ Mn,
where Mi
is the submodule of M annihilated by bi
.
1258 CHAPTER 35. INTRODUCTION TO MODULES; MODULES OVER A PID
Proof. For i = 1, . . . , n, let pi
: M → M be the map given by
pi(x) = eix, x ∈ M.
The map pi
is clearly linear, and because of the properties satisfied by the eis, we have
p
2
i = pi
pipj = 0, i 6 = j
p1 + · · · + pn = id.
This shows that the pi are projections, and by Proposition 6.8 (which also holds for modules),
we have a direct sum
M = p1(M) ⊕ · · · ⊕ pn(M) = e1M ⊕ · · · ⊕ enM.
It remains to show that Mi = eiM. Since (1 − ei)ei = ei − e
2
i = ei − ei = 0, we see that
eiM is annihilated by bi = (1 − ei)A. Furthermore, for i 6 = j, for any x ∈ M, we have
(1 − ei)ejx = (ej − eiej )x = ejx, so no nonzero element of ejM is annihilated by 1 − ei
, and
thus not annihilated by bi
. It follows that eiM = Mi
, as claimed.
Definition 35.8. Given an A-module M, for any nonzero α ∈ A, let
M(α) = {x ∈ M | αx = 0},
the submodule of M annihilated by α. If α divides β, then M(α) ⊆ M(β), so we can define
Mα =
[
n≥1
M(α
n
) = {x ∈ M | (∃n ≥ 1)(α
nx = 0)},
the submodule of M consisting of all elements of M annihilated by some power of α.
If N is any submodule of M, it is clear that
Nα = M ∩ Mα.
Recall that in a PID, an irreducible element is also called a prime element.
Definition 35.9. If A is a PID and p is a prime element in A, we say that a module M is
p-primary if M = Mp.
Proposition 35.16. Let M be module over a PID A. For every nonzero α ∈ A, if
α = upn
1
1
· · · p
n
r
r
is a factorization of α into prime factors (where u is a unit), then the module M(α) anni￾hilated by α is the direct sum
M(α) = M(p
n
1
1
) ⊕ · · · ⊕ M(p
n
r
r
).
Furthermore, the projection from M(α) onto M(p
n
i
i
) is of the form x 7→ γix, for some γi ∈ A,
and
M(p
n
i
i
) = M(α) ∩ Mpi
.
35.4. TORSION MODULES OVER A PID; PRIMARY DECOMPOSITION 1259
Proof. First observe that since M(α) is annihilated by α, we can view M(α) as a A/(α)-
module. By the Chinese remainder theorem (Theorem 32.15) applied to the ideals (upn
1
1
) =
(p
n
1
1
),(p
n
2
2
), . . . ,(p
n
r
r ), we have an isomorphism
A/(α) ≈ A/(p
n
1
1
) × · · · × A/(p
n
r
r
).
Since we also have isomorphisms
A/(pi
ni
) ≈ (A/(α))/((p
n
i
i
)/(α)),
we can apply Proposition 35.15, and we get a direct sum
M(α) = N1 ⊕ · · · ⊕ Nr,
where Ni
is the A/(α)-submodule of M(α) annihilated by (p
n
i
i
)/(α), and the projections
onto the Ni are of the form stated in the proposition. However, Ni
is just the A-module
M(p
n
i
i
) annihilated by p
n
i
i
, because every nonzero element of (p
n
i
i
)/(α) is an equivalence class
modulo (α) of the form ap
n
i
i
for some nonzero a ∈ A, and by definition, x ∈ Ni
iff
0 = ap
n
i
i x = ap
n
i
ix, for all a ∈ A − {0},
in particular for a = 1, which implies that x ∈ M(p
n
i
i
).
The inclusion M(p
n
i
i
) ⊆ M(α) ∩ Mpi
is clear. Conversely, pick x ∈ M(α) ∩ Mpi
, which
means that αx = 0 and p
s
ix = 0 for some s ≥ 1. If s < ni
, we are done, so assume s ≥ ni
.
Since p
n
i
i
is a gcd of α and p
s
i
, by Bezout, we can write
p
n
i
i = λps
i + µα
for some λ, µ ∈ A, and then p
n
i
ix = λps
ix + µαx = 0, which shows that x ∈ M(p
n
i
i
), as
desired.
Here is an example of Proposition 35.16. Let M = Z/60Z, where M is considered as a
Z-module. A element in M is denoted by x, where x is an integer with 0 ≤ x ≤ 59 . Let
α = 6 and define
M(6) = {x ∈ M | 6x = 0} = {0, 10, 20, 30, 40, 50}.
Since 6 = 2 · 3, Proposition 35.16 implies that M(6) = M(2) ⊕ M(3), where
M(2) = {x ∈ M | 2x = 0} = {0, 30}
M(3) = {x ∈ M | 3x = 0} = {0, 20, 40}.
Recall that if M is a torsion module over a ring A which is an integral domain, then
every finite set of elements x1, . . . , xn in M is annihilated by a = a1 · · · an, where each ai
annihilates xi
.
Since A is a PID, we can pick a set P of irreducible elements of A such that every nonzero
nonunit of A has a unique factorization up to a unit. Then, we have the following structure
theorem for torsion modules which holds even for modules that are not finitely generated.
1260 CHAPTER 35. INTRODUCTION TO MODULES; MODULES OVER A PID
Theorem 35.17. (Primary Decomposition Theorem) Let M be a torsion-module over a
PID. For every irreducible element p ∈ P, let Mp be the submodule of M annihilated by
some power of p. Then, M is the (possibly infinite) direct sum
M =
M
p∈P
Mp.
Proof. Since M is a torsion-module, for every x ∈ M, there is some α ∈ A such that
x ∈ M(α). By Proposition 35.16, if α = upn
1
1
· · · p
n
r
r
is a factorization of α into prime factors
(where u is a unit), then the module M(α) is the direct sum
M(α) = M(p
n
1
1
) ⊕ · · · ⊕ M(p
n
r
r
).
This means that x can be written as
x =
X
p∈P
xp, xp ∈ Mp,
with only finitely many xp nonzero. If
X
p∈P
xp =
X
p∈P
yp
for all p ∈ P, with only finitely many xp and yp nonzero, then xp and yp are annihilated by
some common nonzero element a ∈ A, so xp, yp ∈ M(a). By Proposition 35.16, we must
have xp = yp for all p, which proves that we have a direct sum.
It is clear that if p and p
0 are two irreducible elements such that p = up0 for some unit u,
then Mp = Mp
0 . Therefore, Mp only depends on the ideal (p).
Definition 35.10. Given a torsion-module M over a PID, the modules Mp associated with
irreducible elements in P are called the p-primary components of M.
The p-primary components of a torsion module uniquely determine the module, as shown
by the next proposition.
Proposition 35.18. Two torsion modules M and N over a PID are isomorphic iff for
every every irreducible element p ∈ P, the p-primary components Mp and Np of M and N
are isomorphic.
Proof. Let f : M → N be an isomorphism. For any p ∈ P, we have x ∈ Mp iff p
kx = 0 for
some k ≥ 1, so
0 = f(p
kx) = p
k
f(x),
which shows that f(x) ∈ Np. Therefore, f restricts to a linear map f | Mp from Mp to
Np. Since f is an isomorphism, we also have a linear map f
−1
: M → N, and our previous
35.4. TORSION MODULES OVER A PID; PRIMARY DECOMPOSITION 1261
reasoning shows that f
−1
restricts to a linear map f
−1
| Np from Np to Mp. But, f | Mp and
f
−1
| Np are mutual inverses, so Mp and Np are isomorphic.
Conversely, if Mp ≈ Np for all p ∈ P, by Theorem 35.17, we get an isomorphism between
M =
L p∈P Mp and N =
L p∈P Np.
In view of Proposition 35.18, the direct sum of Theorem 35.17 in terms of its p-primary
components is called the canonical primary decomposition of M.
If M is a finitely generated torsion-module, then Theorem 35.17 takes the following form.
Theorem 35.19. (Primary Decomposition Theorem for finitely generated torsion modules)
Let M be a finitely generated torsion-module over a PID A. If Ann(M) = (a) and if a =
upn
1
1
· · · p
n
r
r
is a factorization of a into prime factors, then M is the finite direct sum
M =
r M
i=1
M(p
n
i
i
).
Furthermore, the projection of M over M(p
n
i
i
) is of the form x 7→ γix, for some γi ∈ A.
Proof. This is an immediate consequence of Proposition 35.16.
Theorem 35.19 applies when A = Z. In this case, M is a finitely generated torsion abelian
group, and the theorem says that such a group is the direct sum of a finite number of groups
whose elements have order some power of a prime number p. In particular, consider the
Z-module Z/10Z where
Z/10Z = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9}.
Clearly Z/10Z is generated by 1 and Ann (Z/10Z) = 10. Theorem 35.19 implies that
Z/10Z = M(2) ⊕ M(5),
where
M(2) = {x ∈ M | 2x = 0} = {0, 5}
M(5) = {x ∈ M | 5x = 0} = {0, 2, 4, 6, 8}.
Theorem 35.17 has several useful corollaries.
Proposition 35.20. If M is a torsion module over a PID, for every submodule N of M,
we have a direct sum
N =
M
p∈P
N ∩ Mp.
Proof. It is easily verified that N ∩ Mp is the p-primary component of N.
1262 CHAPTER 35. INTRODUCTION TO MODULES; MODULES OVER A PID
Proposition 35.21. If M is a torsion module over a PID, a submodule N of M is a direct
factor of M iff Np is a direct factor of Mp for every irreducible element p ∈ A.
Proof. This is because if N and N0 are two submodules of M, we have M = N ⊕ N0 iff, by
Proposition 35.20, Mp = Np ⊕ Np
0
for every irreducible elements p ∈ A.
Definition 35.11. An A-module M is said to be semi-simple iff for every submodule N of
M, there is some submodule N0 of M such that M = N ⊕ N0 .
Proposition 35.22. Let A be a PID which is not a field, and let M be any A-module. Then
M is semi-simple iff it is a torsion module and if Mp = M(p) for every irreducible element
p ∈ A (in other words, if x ∈ M is annihilated by a power of p, then it is already annihilated
by p).
Proof. Assume that M is semi-simple. Let x ∈ M and pick any irreducible element p ∈ A.
Then, the submodule pAx has a supplement N such that
M = pAx ⊕ N,
so we can write x = pax + y, for some y ∈ N and some a ∈ A. But then,
y = (1 − pa)x,
and since p is irreducible, p is not a unit, so 1 − pa 6 = 0. Observe that
p(1 − ap)x = py ∈ pAx ∩ N = (0).
Since p(1 − ap) 6 = 0, x is a torsion element, and thus M is a torsion module. The above
argument shows that
p(1 − ap)x = 0,
which implies that px = ap2x, and by induction,
px = a
n
p
n+1x, for all n ≥ 1.
If we pick x in Mp, then there is some m ≥ 1 such that p
mx = 0, and we conclude that
px = 0.
Therefore, Mp = M(p), as claimed.
Conversely, assume that M is a torsion-module and that Mp = M(p) for every irreducible
element p ∈ A. By Proposition 35.21, it is sufficient to prove that a module annihilated by a
an irreducible element is semi-simple. This is because such a module is a vector space over
the field A/(p) (recall that in a PID, an ideal (p) is maximal iff p is irreducible), and in a
vector space, every subspace has a supplement.
Theorem 35.19 shows that a finitely generated torsion module is a direct sum of p-primary
modules Mp. We can do better. In the next section we show that each primary module Mp
is the direct sum of cyclic modules of the form A/(p
n
).
35.5. FINITELY GENERATED MODULES OVER A PID 1263
35.5 Finitely Generated Modules over a PID; Invariant
Factor Decomposition
There are several ways of obtaining the decomposition of a finitely generated module as a
direct sum of cyclic modules. One way to proceed is to first use the Primary Decomposition
Theorem and then to show how each primary module Mp is the direct sum of cyclic modules
of the form A/(p
n
). This is the approach followed by Lang [109] (Chapter III, section
7), among others. We prefer to use a proposition that produces a particular basis for a
submodule of a finitely generated free module, because it yields more information. This is
the approach followed in Dummitt and Foote [54] (Chapter 12) and Bourbaki [26] (Chapter
VII). The proof that we present is due to Pierre Samuel.
Proposition 35.23. Let F be a finitely generated free module over a PID A, and let M be
any submodule of F. Then, M is a free module and there is a basis (e1, ..., en) of F, some
q ≤ n, and some nonzero elements a1, . . . , aq ∈ A, such that (a1e1, . . . , aqeq) is a basis of M
and ai divides ai+1 for all i, with 1 ≤ i ≤ q − 1.
Proof. The proposition is trivial when M = {0}, thus assume that M is nontrivial. Pick some
basis (u1, . . . , un) for F. Let L(F, A) be the set of linear forms on F. For any f ∈ L(F, A),
it is immediately verified that f(M) is an ideal in A. Thus, f(M) = ahA, for some ah ∈ A,
since every ideal in A is a principal ideal. Since A is a PID, any nonempty family of ideals
in A has a maximal element, so let f be a linear map such that ahA is a maximal ideal in A.
Let πi
: F → A be the i-th projection, i.e., πi
is defined such that πi(x1u1 + · · · + xnun) = xi
.
It is clear that πi
is a linear map, and since M is nontrivial, one of the πi(M) is nontrivial,
and ah 6 = 0. There is some e
0 ∈ M such that f(e
0 ) = ah.
We claim that, for every g ∈ L(F, A), the element ah ∈ A divides g(e
0 ).
Indeed, if d is the gcd of ah and g(e
0 ), by the B´ezout identity, we can write
d = rah + sg(e
0 ),
for some r, s ∈ A, and thus
d = rf(e
0 ) + sg(e
0 ) = (rf + sg)(e
0 ).
However, rf + sg ∈ L(F, A), and thus,
ahA ⊆ dA ⊆ (rf + sg)(M),
since d divides ah, and by maximality of ahA, we must have ahA = dA, which implies that
d = ah, and thus, ah divides g(e
0 ). In particular, ah divides each πi(e
0 ) and let πi(e
0 ) = ahbi
,
with bi ∈ A.
Let e = b1u1 + · · · + bnun. Note that
e
0 = π1(e
0 )u1 + · · · + πn(e
0 )un = ahb1u1 + · · · + ahbnun,
1264 CHAPTER 35. INTRODUCTION TO MODULES; MODULES OVER A PID
and thus, e
0 = ahe. Since ah = f(e
0 ) = f(ahe) = ahf(e), and since ah 6 = 0, we must have
f(e) = 1.
Next, we claim that
F = Ae ⊕ f
−1
(0)
and
M = Ae0 ⊕ (M ∩ f
−1
(0)),
with e
0 = ahe.
Indeed, every x ∈ F can be written as
x = f(x)e + (x − f(x)e),
and since f(e) = 1, we have f(x − f(x)e) = f(x) − f(x)f(e) = f(x) − f(x) = 0. Thus,
F = Ae + f
−1
(0). Similarly, for any x ∈ M, we have f(x) = rah, for some r ∈ A, and thus,
x = f(x)e + (x − f(x)e) = rahe + (x − f(x)e) = re0 + (x − f(x)e),
we still have x − f(x)e ∈ f
−1
(0), and clearly, x − f(x)e = x − rahe = x − re0 ∈ M, since
e
0 ∈ M. Thus, M = Ae0 + (M ∩ f
−1
(0)).
To prove that we have a direct sum, it is enough to prove that Ae ∩ f
−1
(0) = {0}. For
any x = re ∈ Ae, if f(x) = 0, then f(re) = rf(e) = r = 0, since f(e) = 1 and, thus, x = 0.
Therefore, the sums are direct sums.
We can now prove that M is a free module by induction on the size, q, of a maximal
linearly independent family for M.
If q = 0, the result is trivial. Otherwise, since
M = Ae0 ⊕ (M ∩ f
−1
(0)),
it is clear that M ∩f
−1
(0) is a submodule of F and that every maximal linearly independent
family in M ∩ f
−1
(0) has at most q − 1 elements. By the induction hypothesis, M ∩ f
−1
(0)
is a free module, and by adding e
0 to a basis of M ∩ f
−1
(0), we obtain a basis for M, since
the sum is direct.
The second part is shown by induction on the dimension n of F.
The case n = 0 is trivial. Otherwise, since
F = Ae ⊕ f
−1
(0),
and since, by the previous argument, f
−1
(0) is also free, f
−1
(0) has dimension n − 1. By
the induction hypothesis applied to its submodule M ∩ f
−1
(0), there is a basis (e2, . . . , en)
of f
−1
(0), some q ≤ n, and some nonzero elements a2, . . . , aq ∈ A, such that, (a2e2, . . . , aqeq)
is a basis of M ∩ f
−1
(0), and ai divides ai+1 for all i, with 2 ≤ i ≤ q − 1. Let e1 = e, and
a1 = ah, as above. It is clear that (e1, . . . , en) is a basis of F, and that that (a1e1, . . . , aqeq)
35.5. FINITELY GENERATED MODULES OVER A PID 1265
is a basis of M, since the sums are direct, and e
0 = a1e1 = ahe. It remains to show that a1
divides a2. Consider the linear map g : F → A such that g(e1) = g(e2) = 1, and g(ei) = 0,
for all i, with 3 ≤ i ≤ n. We have ah = a1 = g(a1e1) = g(e
0 ) ∈ g(M), and thus ahA ⊆ g(M).
Since ahA is maximal, we must have g(M) = ahA = a1A. Since a2 = g(a2e2) ∈ g(M), we
have a2 ∈ a1A, which shows that a1 divides a2.
We need the following basic proposition.
Proposition 35.24. For any commutative ring A, if F is a free A-module and if (e1, . . . , en)
is a basis of F, for any elements a1, . . . , an ∈ A, there is an isomorphism
F/(Aa1e1 ⊕ · · · ⊕ Aanen) ≈ (A/a1A) ⊕ · · · ⊕ (A/anA).
Proof. Let σ : F → A/(a1A) ⊕ · · · ⊕ A/(anA) be the linear map given by
σ(x1e1 + · · · + xnen) = (x1, . . . , xn),
where xi
is the equivalence class of xi
in A/aiA. The map σ is clearly surjective, and its
kernel consists of all vectors x1e1 + · · · + xnen such that xi ∈ aiA, for i = 1, . . . , n, which
means that
Ker (σ) = Aa1e1 ⊕ · · · ⊕ Aanen.
Since M/Ker (σ) is isomorphic to Im(σ), we get the desired isomorphism.
We can now prove the existence part of the structure theorem for finitely generated
modules over a PID.
Theorem 35.25. Let M be a finitely generated nontrivial A-module, where A a PID. Then,
M is isomorphic to a direct sum of cyclic modules
M ≈ A/a1 ⊕ · · · ⊕ A/am,
where the ai are proper ideals of A (possibly zero) such that
a1 ⊆ a2 ⊆ · · · ⊆ am 6 = A.
More precisely, if a1 = · · · = ar = (0) and (0) 6 = ar+1 ⊆ · · · ⊆ am 6 = A, then
M ≈ A
